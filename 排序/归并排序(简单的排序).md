

---

```cpp
#include <iostream>         // 引入输入输出库，用于使用 cin 和 cout
using namespace std;        // 使用标准命名空间，省去写 std::

const int N = 1e5 + 10;     // 定义最大数组长度（加10是为了安全）
int a[N];                   // 原始数组，存储输入的数
int temp[N];                // 辅助数组，用于归并时临时存放数据

// 归并排序函数，对数组 a 的 [l, r] 区间进行排序
void merge_sort(int a[], int l, int r) {
    if (l >= r) return;     // 如果区间只有一个或零个元素，说明已经有序，直接返回

    int mid = (l + r) / 2;          // 取中间位置，将数组分为左右两半
    merge_sort(a, l, mid);         // 递归排序左半部分
    merge_sort(a, mid + 1, r);     // 递归排序右半部分

    int i = l, j = mid + 1, k = 0;  // 定义三个指针：i指左半部分，j指右半部分，k指辅助数组

    // 合并两个有序区间，按升序将元素放入 temp 中
    while (i <= mid && j <= r) {
        if (a[i] <= a[j]) temp[k++] = a[i++];  // 左边更小，放入 temp 并右移 i
        else temp[k++] = a[j++];               // 否则放右边的，右移 j
    }

    // 把左边剩下的元素全部加入 temp
    while (i <= mid) temp[k++] = a[i++];

    // 把右边剩下的元素全部加入 temp
    while (j <= r) temp[k++] = a[j++];

    // 把 temp 中排好序的元素复制回 a[l...r]
    for (int t = 0; t < k; ++t) {
        a[l + t] = temp[t];
    }
}

int main() {
    int n;
    cin >> n;                       // 读入数组长度

    for (int i = 0; i < n; ++i) {
        cin >> a[i];               // 依次读入数组中的 n 个整数
    }

    merge_sort(a, 0, n - 1);       // 调用归并排序函数，对整个数组排序

    for (int i = 0; i < n; ++i) {
        cout << a[i];              // 输出排序后的每个数
        if (i != n - 1) cout << " ";  // 每个数后面跟一个空格，最后一个数后不加
    }
    cout << endl;                  // 输出结束后换行

    return 0;                      // 返回 0，程序结束
}
```

---

### ✅ 输入样例：

```
5
3 1 2 4 5
```

### ✅ 输出样例：

```
1 2 3 4 5
```

---


---

### 📌 输入：

```
5
3 1 2 4 5
```

### 🎯 目标：将数组从小到大排序。

---

## 🧮 归并排序执行过程详解（不用树状结构）：

---

### 第一步：把数组一分为二

原数组是：`[3, 1, 2, 4, 5]`
中间位置是2，把它分成两部分：

* 左边：`[3, 1, 2]`
* 右边：`[4, 5]`

---

### 第二步：对左边 `[3, 1, 2]` 继续分

再分成：

* `[3, 1]`
* `[2]`（只有一个数，不用分）

对 `[3, 1]` 再分成：

* `[3]`
* `[1]`

---

### 第三步：开始合并

先把 `[3]` 和 `[1]` 合并，按从小到大排：→ `[1, 3]`

再把 `[1, 3]` 和 `[2]` 合并：

* 比较 1 和 2 → 1 先
* 比较 3 和 2 → 2 先
* 最后剩 3

得到：→ `[1, 2, 3]`

---

### 第四步：对右边 `[4, 5]` 排序

* `[4]` 和 `[5]` 各一个，不用分
* 合并：4 < 5 → `[4, 5]`

---

### 第五步：最终合并 `[1, 2, 3]` 和 `[4, 5]`

* 比较 1 和 4 → 1
* 比较 2 和 4 → 2
* 比较 3 和 4 → 3
* 比较完左边后，右边还有 4 和 5 → 接上去

最终结果是：→ `[1, 2, 3, 4, 5]`

---

## ✅ 最终输出：

```
1 2 3 4 5
```

---
