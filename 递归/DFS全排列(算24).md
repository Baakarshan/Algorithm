
---

### âœ… C++ ä»£ç ï¼šå›æº¯ + å…¨æ’åˆ— + æµ®ç‚¹åˆ¤æ–­

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <cmath>
using namespace std;

// åˆ¤æ–­æ˜¯å¦çº¦ç­‰äº 24ï¼ˆé¿å…æµ®ç‚¹æ•°è¯¯å·®ï¼‰
const double TARGET = 24.0;
const double EPS = 1e-6;

// é€’å½’å‡½æ•°ï¼Œå°è¯•æ‰€æœ‰ç»„åˆæ–¹å¼
bool dfs(vector<double>& nums) {
    int n = nums.size();
    if (n == 1) {
        return fabs(nums[0] - TARGET) < EPS; // åˆ¤æ–­æ˜¯å¦çº¦ç­‰äº 24
    }
    // æšä¸¾ä»»æ„ä¸¤ä¸ªæ•°è¿›è¡Œå››ç§è¿ç®—
    for (int i = 0; i < n; ++i) {
        for (int j = 0; j < n; ++j) {
            if (i == j) continue;

            // å–å‡º nums[i], nums[j]ï¼Œå‡†å¤‡åˆå¹¶è®¡ç®—
            vector<double> next;
            for (int k = 0; k < n; ++k) {
                if (k != i && k != j) next.push_back(nums[k]);
            }

            // æšä¸¾å››ç§æ“ä½œ
            for (int op = 0; op < 4; ++op) {
                // åŠ æ³•å’Œä¹˜æ³•æ˜¯äº¤æ¢å¾‹ï¼Œé¿å…é‡å¤
                if ((op == 0 || op == 2) && i > j) continue;

                double result = 0;
                if (op == 0) result = nums[i] + nums[j];
                if (op == 1) result = nums[i] - nums[j];
                if (op == 2) result = nums[i] * nums[j];
                if (op == 3) {
                    if (fabs(nums[j]) < EPS) continue; // é™¤æ•°ä¸èƒ½ä¸º 0
                    result = nums[i] / nums[j];
                }

                next.push_back(result);
                if (dfs(next)) return true;
                next.pop_back(); // å›æº¯
            }
        }
    }
    return false;
}

int main() {
    while (true) {
        vector<int> input(4);
        bool end = true;
        for (int i = 0; i < 4; ++i) {
            cin >> input[i];
            if (input[i] != 0) end = false;
        }
        if (end) break;

        sort(input.begin(), input.end());
        bool found = false;
        // å…¨æ’åˆ—æ‰€æœ‰é¡ºåº
        do {
            vector<double> nums;
            for (int x : input) nums.push_back(x);
            if (dfs(nums)) {
                found = true;
                break;
            }
        } while (next_permutation(input.begin(), input.end()));

        cout << (found ? "YES" : "NO") << endl;
    }
    return 0;
}
```

---

### âœ… ç‰¹ç‚¹ä¸ä¼˜åŠ¿è¯´æ˜

* ç”¨ `vector<double>` æ¥å¤„ç†æµ®ç‚¹è¿ç®—ï¼Œä¿è¯é™¤æ³•çš„æ­£ç¡®æ€§ã€‚
* ç”¨ DFS æšä¸¾æ‰€æœ‰ä¸¤ä¸¤ç»„åˆçš„è¿ç®—æ–¹å¼ã€‚
* ç”¨ `fabs(a - b) < EPS` è§£å†³æµ®ç‚¹è¯¯å·®é—®é¢˜ã€‚
* ç”¨ `next_permutation` ç”Ÿæˆæ‰€æœ‰æ•°å­—é¡ºåºï¼Œç¡®ä¿ä¸åŒæ’åˆ—è¢«è¦†ç›–ã€‚

---

### âœ… ç¤ºä¾‹è¿è¡Œï¼ˆæ ·ä¾‹ï¼‰

è¾“å…¥ï¼š

```
5 5 5 1
1 1 4 2
0 0 0 0
```

è¾“å‡ºï¼š

```
YES
NO
```

---

è¿™ä¸ªé—®é¢˜æ˜¯ç»å…¸çš„ã€Œ24 ç‚¹é—®é¢˜ã€ï¼šç»™å‡º 4 ä¸ªæ­£æ•´æ•°ï¼ˆæ¯ä¸ªå°äº 10ï¼‰ï¼Œé—®æ˜¯å¦å¯ä»¥é€šè¿‡åŠ å‡ä¹˜é™¤å’Œæ‹¬å·ç»„åˆæˆè¡¨è¾¾å¼ï¼Œä½¿å¾—å…¶å€¼ä¸º 24ã€‚å¯ä»¥æ”¹å˜æ•°å­—é¡ºåºã€‚

---

### ğŸ§  è§£é¢˜æ€è·¯ï¼ˆå®Œæ•´æ–‡å­—è®²è§£ï¼‰ï¼š

æˆ‘ä»¬éœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š

#### âœ… æ ¸å¿ƒç›®æ ‡

ä» 4 ä¸ªæ•°å‡ºå‘ï¼Œé€šè¿‡ï¼š

* ä»»æ„é¡ºåºæ’åˆ—ï¼ˆ4! = 24ç§é¡ºåºï¼‰
* ä»»æ„åŠ æ‹¬å·çš„æ–¹å¼ï¼ˆå¤šç§ç»„åˆï¼‰
* åŠ ã€å‡ã€ä¹˜ã€é™¤è¿™ 4 ç§è¿ç®—ç¬¦
* åˆ¤æ–­æœ€ç»ˆç»“æœæ˜¯å¦å¯ä»¥ç­‰äº 24

#### âœ… æ­¥éª¤è¯¦è§£

æˆ‘ä»¬ä½¿ç”¨ **å›æº¯æ³•ï¼ˆDFSï¼‰** é€’å½’å°è¯•æ‰€æœ‰ç»„åˆï¼š

1. **åˆå§‹çŠ¶æ€**ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ `nums` é‡Œæ”¾ç€å½“å‰å¯ç”¨çš„æ•°ï¼Œåˆå§‹ä¸ºè¾“å…¥çš„é‚£4ä¸ªæ•°ã€‚

2. **ç»ˆæ­¢æ¡ä»¶**ï¼š

   * å¦‚æœæ•°ç»„é‡Œåªå‰©ä¸‹ä¸€ä¸ªæ•°ï¼šæ£€æŸ¥è¿™ä¸ªæ•°æ˜¯å¦ä¸24è¶³å¤Ÿæ¥è¿‘ï¼ˆè€ƒè™‘æµ®ç‚¹è¯¯å·®ï¼‰ã€‚

3. **å°è¯•æ‰€æœ‰çš„ç»„åˆ**ï¼š

   * ä»å½“å‰æ•°ç»„ä¸­ä»»é€‰ä¸¤ä¸ªæ•°ï¼Œè¿›è¡Œ +, -, \*, / å››ç§æ“ä½œï¼š

     * è®¡ç®—ç»“æœ resultã€‚
     * åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼šæŠŠåˆšæ‰ä¸¤ä¸ªæ•°åˆ å»ï¼ŒåŠ å…¥ resultã€‚
     * å¯¹æ–°æ•°ç»„é€’å½’è°ƒç”¨ DFSã€‚
     * å›æº¯ï¼Œæ¢å¤åŸæ•°ç»„ã€‚

4. **æ³¨æ„ç»†èŠ‚**ï¼š

   * é™¤æ³•æ—¶é™¤æ•°ä¸èƒ½ä¸º 0ã€‚
   * å› ä¸ºé™¤æ³•æ¶‰åŠæµ®ç‚¹è®¡ç®—ï¼Œåˆ¤æ–­æ˜¯å¦ç­‰äº 24 æ—¶ç”¨ä¸€ä¸ªå°è¯¯å·®å®¹å·®ï¼ˆå¦‚ `fabs(x - 24) < 1e-6`ï¼‰é¿å…è¯¯å·®é—®é¢˜ã€‚

5. **æ•°å­—é¡ºåºå¯ä»¥å˜**ï¼š

   * æ‰€ä»¥å¯¹è¾“å…¥æ•°ç»„å…ˆåšä¸€ä¸ªå…¨æ’åˆ—ï¼ˆ24ç§ï¼‰è¿›è¡Œéå†ï¼Œæ¯ä¸ªæ’åˆ—éƒ½é€’å½’æœç´¢ã€‚

---

### âœ… ä¾‹å­æ‰‹åŠ¨æ¨¡æ‹Ÿ

å¯¹è¾“å…¥ï¼š`5 5 5 1`

æ’åˆ—ä¸ºï¼š`5, 5, 5, 1`ï¼Œå¯å°è¯•è¡¨è¾¾å¼ï¼š

```
5 * (5 - 1 / 5) = 5 * (4.8) = 24
```

æˆç«‹ â†’ è¾“å‡º YES

å¯¹è¾“å…¥ï¼š`1 1 4 2`

æ— è®ºæ’åˆ—ä¸ç»„åˆéƒ½ä¸ä¼šå¾—åˆ° 24 â†’ è¾“å‡º NO

---

### âœ… ç»“è®º

æˆ‘ä»¬ä½¿ç”¨ï¼š

* **å…¨æ’åˆ—** æ¥å°è¯•æ•°å­—é¡ºåº
* **å›æº¯/é€’å½’** æ¥éå†æ‰€æœ‰å¯èƒ½æ“ä½œé¡ºåºä¸ç»„åˆ
* **æµ®ç‚¹æ•°åˆ¤æ–­æŠ€å·§** æ¥é¿å…è¯¯å·®

